/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'org.springframework.boot' version '2.7.18'
    id 'io.spring.dependency-management' version '1.1.4'
    id 'java'
    id 'maven-publish'
    id 'org.springdoc.openapi-gradle-plugin' version '1.8.0'
}

group = 'com.devkbil'
version = '0.0.1-SNAPSHOT'
description = 'mtsSBJ'
java.sourceCompatibility = JavaVersion.VERSION_1_8

configurations {
    compileOnly {
        extendsFrom annotationProcessor
    }
}

ext {
    set("spring-boot.version", "2.7.18")
}

repositories {
    mavenLocal()
    maven { url 'https://repo.spring.io/snapshot' }
    maven { url 'https://repo.spring.io/milestone' }
    maven { url 'https://repo.maven.apache.org/maven2/' }
    mavenCentral()
    maven {
        url 'https://repo.clojars.org'
        name 'Clojars'
    }
}

springBoot {
    buildInfo()
}

configurations.all {
    exclude group: 'commons-collections', module: 'commons-collections'
    exclude group: 'com.itextpdf', module: 'itextpdf'
    exclude group: 'jakarta.tion', module: 'jakarta.validation-api'
}
dependencies {

    implementation 'com.navercorp.lucy:lucy-xss:1.6.3'
    implementation 'com.navercorp.lucy:lucy-xss-servlet:2.0.1'

    implementation 'io.spring.javaformat:spring-javaformat-gradle-plugin:0.0.42'

    implementation 'org.springframework.boot:spring-boot-starter-web'
    implementation 'org.springframework.boot:spring-boot-configuration-processor'
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
    implementation 'org.springframework.boot:spring-boot-starter-actuator'
    implementation 'org.springframework.boot:spring-boot-starter-hateoas'
    implementation 'org.springframework.boot:spring-boot-starter-data-jdbc'

    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'

    implementation 'org.springframework.boot:spring-boot-starter-security'
    implementation 'org.thymeleaf.extras:thymeleaf-extras-springsecurity6:3.1.2.RELEASE'
    implementation 'org.springframework.security:spring-security-test'

    implementation 'io.jsonwebtoken:jjwt:0.12.3'
    implementation 'javax.xml.bind:jaxb-api:2.4.0-b180830.0359'
    implementation 'be.atbash.json:octopus-json-smart:1.1.1'
    implementation 'commons-lang:commons-lang:2.6'
    implementation 'org.apache.commons:commons-lang3:3.14.0'

    runtimeOnly 'org.springframework.boot:spring-boot-devtools'

    implementation 'de.codecentric:spring-boot-admin-starter-client:2.7.16'

    implementation 'com.fasterxml.jackson.core:jackson-annotations:2.17.1'
    implementation 'org.springframework.boot:spring-boot-starter-validation'

    implementation 'com.fasterxml.jackson.module:jackson-module-jaxb-annotations:2.17.1'
    implementation 'com.fasterxml.jackson.core:jackson-databind:2.17.0'

    implementation 'javax.servlet:jstl:1.2'
    implementation 'org.apache.tomcat.embed:tomcat-embed-jasper:10.0.27'

    implementation 'org.projectlombok:lombok:1.18.34'
    annotationProcessor 'org.projectlombok:lombok:1.18.32'
    testImplementation 'org.projectlombok:lombok:1.18.32'
    testAnnotationProcessor 'org.projectlombok:lombok:1.18.32'

    implementation 'org.mybatis.spring.boot:mybatis-spring-boot-starter:2.3.2'

    runtimeOnly 'com.oracle.database.jdbc:ojdbc8:23.3.0.23.09'
    runtimeOnly 'org.mariadb.jdbc:mariadb-java-client:3.3.3'
    implementation 'org.xerial:sqlite-jdbc:3.46.0.0'
    runtimeOnly 'com.h2database:h2:2.2.224'
    //compileOnly 'jdbc.tibero:tibero:6'

    implementation 'org.springframework.boot:spring-boot-starter-data-elasticsearch'
    implementation 'org.elasticsearch.client:elasticsearch-rest-high-level-client:7.17.21'
    testImplementation 'org.testcontainers:elasticsearch:1.19.7'

    implementation 'io.micrometer:micrometer-registry-prometheus:1.13.1'

    testImplementation 'org.springframework.boot:spring-boot-starter-test'

    implementation 'javax.mail:mail:1.5.0-b01'
    implementation 'org.springframework.boot:spring-boot-starter-mail'

    implementation 'net.sf.jxls:jxls-core:1.0.6'
    implementation 'org.jxls:jxls:2.14.0'
    implementation 'org.jxls:jxls-poi:2.14.0'
    implementation 'org.jxls:jxls-jexcel:1.0.9'
    implementation 'org.apache.poi:poi:5.2.5'
    implementation 'org.apache.poi:poi-ooxml:5.2.5'

    annotationProcessor 'org.apache.tika:tika-core:2.9.2'
    implementation 'org.apache.tika:tika-core:2.9.2'
    implementation 'org.apache.tika:tika-parsers-standard-package:2.9.2'

    implementation 'io.springfox:springfox-swagger2:3.0.0'
    implementation 'io.swagger.parser.v3:swagger-parser-v3:2.1.22'
    implementation 'io.springfox:springfox-bean-validators:2.10.5'
    implementation 'org.springdoc:springdoc-openapi-ui:1.6.15'

    implementation 'com.jcraft:jsch:0.1.55'
    implementation 'org.eclipse.jgit:org.eclipse.jgit:6.9.0.202403050737-r'
    implementation 'org.apache.pdfbox:pdfbox:3.0.2'
    implementation 'org.apache.pdfbox:jbig2-imageio:3.0.4'
    implementation 'com.github.jai-imageio:jai-imageio-core:1.4.0'
    implementation 'com.github.jai-imageio:jai-imageio-jpeg2000:1.4.0'
    implementation 'com.twelvemonkeys.imageio:imageio-jpeg:3.11.0'
    implementation 'org.bouncycastle:bcprov-jdk18on:1.78.1'

    implementation 'org.springframework.boot:spring-boot-starter-cache'

    implementation 'org.mnode.ical4j:ical4j:4.0.0'

    implementation fileTree(dir: 'lib', include: ['*.jar'])
}

publishing {
    publications {
        maven(MavenPublication) {
            from(components.java)
        }
    }
}

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

tasks.named('test') {
    useJUnitPlatform()
}

tasks.named('clean') {
    delete "logs_dev"
}